@model AnkhMorporkAdventure.Models.GameIndexMessageModel
@{
    ViewData["Title"] = "Main City";
}

<h2>Welcome to the most dangerous city in your life</h2>

<div class="row">
    <div class="col-8">
        <img src="~/Images/ankh-morpork.jpg" class="img-thumbnail float-end" alt="...">
    </div>
    <div class="col-md-3">
        <div class="d-grid gap-2">
            @Html.ActionLink("Wander across the city", "Wander", new { }, new { @class = "btn btn-secondary btn-lg" })
            @Html.ActionLink("Visit the Mended Drum", "Bar", "MendedDrum", new { }, new { @class = "btn btn-secondary btn-lg" })
        </div>
    </div>
</div>

<div class="modal fade" data-bs-backdrop="static" id="dialogModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">@Model.Title</h5>
            </div>
            <div class="modal-body">
                @Model.Message
            </div>
            <div class="modal-footer">
                @if (Model.Died)
                {
                    @Html.ActionLink("Restart Game", "Restart", "Game", new {}, 
                   new { @class="btn btn-secondary"})
                }
                else
                {
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Go on playing</button>
                }
            </div>
        </div>
    </div>
</div>

@if (Model.Message != null)
{
    @section scripts
        {
        <script type="text/javascript">
            $(document).ready(function () {
                $("#dialogModal").modal('show');
            });
        </script>
    }
}